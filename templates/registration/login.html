{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
	<title>Login</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta property="og:locale" content="en_US" />
	<meta property="og:type" content="article" />



	<link rel="shortcut icon" href="#" />
	<!--begin::Fonts-->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" />
	<!--end::Fonts-->
	<!--begin::Page Vendor Stylesheets(used by this page)-->

	<!--end::Page Vendor Stylesheets-->
	<!--begin::Global Stylesheets Bundle(used by all pages)-->
	<link href="{% static 'plugins/global/plugins.bundle.css' %} " rel="stylesheet" type="text/css" />
	<link href="{% static 'css/style.bundle.css' %} " rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
	<!--end::Global Stylesheets Bundle-->
</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_body" class="bg-body">
	<!--begin::Main-->
	<!--begin::Root-->
	<div class="d-flex flex-column flex-root">
		<!--begin::Authentication - Sign-in -->
		<div class="d-flex flex-column flex-column-fluid bgi-position-y-bottom position-x-center bgi-no-repeat bgi-size-contain bgi-attachment-fixed"
			style="background-image: url(static/assets/media/illustrations/sketchy-1/14.png)">
			<!--begin::Content-->
			<div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
				<!--begin::Logo-->
				{% comment %} <a href="" class="mb-12">
					<img alt="Logo" src="{% static 'assets/img/home/logo.png' %}" style="width:138px;" class="h-40px"/>
				</a> {% endcomment %}
				<!--end::Logo-->
				<!--begin::Wrapper-->
				<div class="w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
					<!--begin::Form-->
					<form class="form w-100"  id="kt_sign_in_form" method="POST">

						{% csrf_token %}
						<!--begin::Heading-->
						<div class="text-center mb-10">
							<!--begin::Title-->
							<h1 class="text-dark mb-3">Login</h1>
							<!--end::Title-->

						</div>
						<!--begin::Heading-->
						<!--begin::Input group-->
						<div class="fv-row mb-10">
							<!--begin::Label-->
							<label class="form-label fs-6 fw-bolder text-dark">Email</label>
							<!--end::Label-->
							<!--begin::Input-->
							<input class="form-control form-control-lg form-control-solid" type="text" name="username"
								 required />
							<!--end::Input-->
						</div>
						<!--end::Input group-->
						<!--begin::Input group-->
						<div class="fv-row mb-10">
							<!--begin::Wrapper-->
							<div class="d-flex flex-stack mb-2">
								<!--begin::Label-->
								<label class="form-label fw-bolder text-dark fs-6 mb-0">Password</label>
								<!--end::Label-->
							</div>
							<!--end::Wrapper-->
							<!--begin::Input-->
							<input class="form-control form-control-lg form-control-solid" type="password"
								name="password" autocomplete="off" required />
							<!--end::Input-->
						</div>
						<!--end::Input group-->
						<!--begin::Actions-->

						{% if error_message %}

						<div class="alert alert-danger alert-dismissible fade show" role="alert">

							<p style="list-style-type: none;">Please check your details and try again.</p>

						</div>


						{% endif %}

						<div class="text-center">
							<!--begin::Submit button-->
							<button type="submit" id="kt_sign_in_submit" class="btn btn-lg btn-primary w-100 mb-5">
								<span class="indicator-label">Continue</span>
								<span class="indicator-progress">Please wait...
									<span class="spinner-border spinner-border-sm align-middle ms-2"></span></span>
							</button>

						</div>
						{% comment %} <a href="{% url 'user_register' %}">Create an Account?</a> {% endcomment %}

						<!--end::Actions-->
					</form>
					<!--end::Form-->
				</div>
				<!--end::Wrapper-->
			</div>
			<!--end::Content-->
			<!--begin::Footer-->
			<div class="d-flex flex-center flex-column-auto p-10">




				<!--begin::Links-->
				<div class="d-flex align-items-center fw-bold fs-6">
					<a href="#" target="_blank" class="text-muted text-hover-primary px-2">&copy;
						Rupesh</a>

				</div>
				<!--end::Links-->
			</div>
			<!--end::Footer-->
		</div>
		<!--end::Authentication - Sign-in-->
	</div>
	<!--end::Root-->
	<!--end::Main-->
	<!--begin::Javascript-->
	<script>var hostUrl = "assets/";</script>
	<!--begin::Global Javascript Bundle(used by all pages)-->
	<script src="{% static 'plugins/global/plugins.bundle.js' %}"></script>
	<script src="{% static 'js/scripts.bundle.js' %}"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

	<script>
		{% if messages %}
               {% for message in messages %}
               let bgColor = "info" 
               let message = "{{message.message}}"
               let tag = "{{message.tags}}"
               console.log(message)
               console.log(tag)
               if (tag == "success")
               {
                 bgColor = "green"
           
               }
               else if (tag == "error")
                 {
                   bgColor = "red"
             
                 }

               console.log(bgColor)
               Toastify({
                 text: message,
                 duration: 2000,
                 close: true,
                 gravity: "top", // `top` or `bottom`
                 position: "right", // `left`, `center` or `right`
                 stopOnFocus: true, // Prevents dismissing of toast on hover
                 style: {
                   background: bgColor,
                 },
                 onClick: function(){} // Callback after click
               }).showToast();
               {% endfor %}
            {% endif %}

	</script>
	{% include "toasts.html" %}
   
      <script src="{% static 'js/toasts.js' %}"></script>

	
</body>
<!--end::Body-->

</html>
